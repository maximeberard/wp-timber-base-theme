{"version":3,"sources":["pages/slideshow.js"],"names":["SlideshowPage","init","$image","$cont","find","$slideshow","$slideshowImage","$slideshowImg","slideshowImageLength","length","slideshowImg","slideshowImagesLoaded","slideshowFirstOpening","$slideshowNavItem","$slideshowClose","slideshowOpened","slideshowIndexActive","viewportSize","Utils","getViewportSize","hammer","Hammer","preventDefault","initEvents","on","imageOnClick","bind","window","addEventListener","windowOnKeyUp","slideshowOnSwipe","slideshowNavItemOnClick","slideshowCloseOnClick","destroyEvents","off","removeEventListener","e","BootstrapMedia","isMinSM","index","Number","currentTarget","getAttribute","openSlideshow","className","indexOf","switchImage","closeSlideshow","keyCode","loadImages","style","display","TweenLite","fromTo","opacity","addClass","removeClass","to","setTimeout","removeAttribute","slideshowSide","indexImage","Image","onload","imageOnLoad","src","loaded","dir","direction","switchActive","futureIndex","oldIndex","oldXTo","width","futureXFrom","set","x","onResize","DefaultPage"],"mappings":"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","file":"slideshow.js","sourcesContent":["/**\n * Copyright Maxime Bérard 2016\n *\n * @file slideshow-page.js\n * @copyright Maxime Bérard 2016\n * @author Maxime Bérard\n */\n\nimport $ from 'jquery';\nimport Hammer from \"Hammer\";\nimport Masonry from \"masonry\";\nimport { Utils } from \"utils/utils\";\nimport { DefaultPage } from \"pages/default-page\";\nimport { BootstrapMedia } from \"utils/bootstrapMedia\";\n\n\nexport class SlideshowPage extends DefaultPage {\n    init() {\n        super.init();\n\n        this.$image = this.$cont.find('.galerie-image');\n\n        // Slideshow\n        this.$slideshow = this.$cont.find('.galerie-slideshow');\n        this.$slideshowImage = this.$slideshow.find('.galerie-slideshow-image');\n        this.$slideshowImg = this.$slideshowImage.find('.galerie-slideshow-img');\n        this.slideshowImageLength = this.$slideshowImage.length;\n        this.slideshowImg = [];\n        this.slideshowImagesLoaded = 0;\n        this.slideshowFirstOpening = true;\n\n        // this.$slideshowCurrentText = this.$slideshow.find('.galerie-slideshow-current');\n        this.$slideshowNavItem = this.$slideshow.find('.galerie-slideshow-nav-item');\n        this.$slideshowClose = this.$slideshow.find('.galerie-slideshow-close');\n\n        this.slideshowOpened = false;\n        this.slideshowIndexActive = null;\n\n        this.viewportSize = Utils.getViewportSize();\n\n        this.hammer = new Hammer(this.$slideshow[0], { preventDefault: false });\n    }\n\n    initEvents() {\n        super.initEvents();\n\n        this.$image.on('click', this.imageOnClick.bind(this));\n\n        window.addEventListener('keyup', this.windowOnKeyUp.bind(this));\n        if (this.slideshowImageLength > 1) { // this.router.deviceType == 'mobile'\n            this.hammer.on('swipe', this.slideshowOnSwipe.bind(this));\n        }\n        this.$slideshowNavItem.on('click', this.slideshowNavItemOnClick.bind(this));\n        this.$slideshowClose.on('click', this.slideshowCloseOnClick.bind(this));\n    }\n\n    destroyEvents() {\n        super.destroyEvents();\n\n        this.$image.off('click', this.imageOnClick.bind(this));\n\n        window.removeEventListener('keyup', this.windowOnKeyUp.bind(this));\n        if (this.slideshowImageLength > 1) { // this.router.deviceType == 'mobile'\n            this.hammer.off('swipe', this.slideshowOnSwipe.bind(this));\n        }\n        this.$slideshowNavItem.off('click', this.slideshowNavItemOnClick.bind(this));\n        this.$slideshowClose.off('click', this.slideshowCloseOnClick.bind(this));\n    }\n\n    imageOnClick(e) {\n        if (BootstrapMedia.isMinSM()) {\n            let index = Number(e.currentTarget.getAttribute('data-index'));\n            // console.log('img on click : ' + index);\n            this.openSlideshow(index);\n        }\n        e.preventDefault();\n    }\n\n    slideshowNavItemOnClick(e) {\n        if (!this.slideshowOpened) return;\n\n        if (e.currentTarget.className.indexOf('prev') >= 0) {\n            this.switchImage(null, 'left');\n        } else {\n            this.switchImage(null, 'right');\n        }\n        e.preventDefault();\n    }\n\n    slideshowCloseOnClick(e) {\n        if (!this.slideshowOpened) return;\n\n        this.closeSlideshow();\n        e.preventDefault();\n    }\n\n    windowOnKeyUp(e) {\n        if (!this.slideshowOpened) return;\n\n        switch (e.keyCode) {\n            case 27: // esc\n                this.closeSlideshow();\n                break;\n            case 37: // <-\n                this.switchImage(null, 'left');\n                break;\n            case 39: // ->\n                this.switchImage(null, 'right');\n                break;\n        }\n    }\n\n    openSlideshow(index) {\n        if (!BootstrapMedia.isMinSM() || this.slideshowOpened) return;\n\n        if (this.slideshowFirstOpening) {\n            this.loadImages();\n            this.slideshowFirstOpening = false;\n        }\n\n        this.$slideshow[0].style.display = 'block';\n\n        TweenLite.fromTo(this.$slideshow, 0.4, { opacity: 0 }, { opacity: 1 });\n        // y: this.viewportSize.height y:0\n        if (index !== this.slideshowIndexActive) {\n            Utils.addClass(this.$slideshowImage[index], 'active');\n            if (this.slideshowIndexActive !== null) {\n                Utils.removeClass(this.$slideshowImage[this.slideshowIndexActive], 'active');\n            }\n            // this.$slideshowCurrentText[0].innerHTML = (index + 1);\n        }\n\n        this.slideshowOpened = true;\n        this.slideshowIndexActive = index;\n    }\n\n    closeSlideshow() {\n        if (!this.slideshowOpened) return;\n\n        TweenLite.to(this.$slideshow, 0.4, { opacity: 1 }); // y: this.viewportSize.height\n\n        setTimeout(() => {\n            this.$slideshow[0].style.display = 'none';\n            this.$slideshowImage[this.slideshowIndexActive].removeAttribute('style');\n        }, 400);\n\n        this.slideshowSide = null;\n\n        this.slideshowOpened = false;\n    }\n\n    loadImages() {\n        // console.log('LOAD IMAGES');\n        for (let indexImage = 0; indexImage < this.slideshowImageLength; indexImage++) {\n            this.slideshowImg[indexImage] = new Image();\n            this.slideshowImg[indexImage].onload = this.imageOnLoad.bind(this, indexImage);\n            this.slideshowImg[indexImage].src = this.$slideshowImg[indexImage].getAttribute('data-src');\n            this.slideshowImg[indexImage].loaded = false;\n        }\n    }\n\n    imageOnLoad(index) {\n        if (this.slideshowImg[index].loaded) return;\n        // if (this.slideshowImagesLoaded > this.slideshowImageLength) return;\n\n        this.slideshowImg[index].loaded = true;\n        this.slideshowImagesLoaded++;\n        Utils.addClass(this.$slideshowImage[index], 'loaded');\n        this.$slideshowImg[index].src = this.slideshowImg[index].src;\n\n        // console.log('image on load : ' + index);\n        // console.log(this.$slideshowImg[index]);\n        // console.log('images loaded : ' + this.slideshowImagesLoaded + ' / ' + this.slideshowImageLength);\n        // console.log('---');\n    }\n\n    slideshowOnSwipe(e) {\n        let dir = e.direction; // 2:left - 4:right - 8:up - 16:down\n        if (dir == 2) this.switchImage(null, 'right');\n        else if (dir == 4) this.switchImage(null, 'left');\n\n        e.preventDefault();\n    }\n\n    switchImage(index, dir) {\n        if (index === this.slideshowIndexActive || !this.slideshowOpened || this.switchActive) return;\n\n        let futureIndex,\n            oldIndex = this.slideshowIndexActive;\n\n        this.switchActive = true;\n\n        if (index !== null) futureIndex = index;\n        else {\n            if (dir == 'left') futureIndex = (oldIndex > 0) ? oldIndex - 1 : this.slideshowImageLength - 1;\n            else if (dir == 'right') futureIndex = (oldIndex < this.slideshowImageLength - 1) ? oldIndex + 1 : 0;\n        }\n\n        let oldXTo = this.viewportSize.width;\n        if (dir == 'right') oldXTo *= -1;\n        let futureXFrom = -oldXTo;\n\n        // console.log('> Switch item : ' + dir);\n        // console.log('current index : ' + oldIndex);\n        // console.log('future index  : ' + futureIndex);\n        // console.log('-------------');\n\n        TweenLite.set(this.$slideshowImage[futureIndex], { x: 0 });\n        Utils.addClass(this.$slideshowImage[futureIndex], 'future');\n        Utils.addClass(this.$slideshowImage[futureIndex], 'active');\n\n        TweenLite.to(this.$slideshowImage[oldIndex], 0.8, { x: oldXTo });\n        TweenLite.fromTo(this.$slideshowImage[futureIndex], 0.8, { x: futureXFrom }, { x: 0 });\n\n        // this.$slideshowCurrentText[0].innerHTML = (futureIndex + 1);\n\n        setTimeout(() => {\n            Utils.removeClass(this.$slideshowImage[oldIndex], 'active');\n            Utils.removeClass(this.$slideshowImage[futureIndex], 'future');\n            this.$slideshowImage[oldIndex].removeAttribute('style');\n            this.slideshowIndexActive = futureIndex;\n            this.switchActive = false;\n        }, 850);\n    }\n\n    onResize(e) {\n        super.onResize(e);\n\n        this.viewportSize = Utils.getViewportSize();\n    }\n}\n"]}